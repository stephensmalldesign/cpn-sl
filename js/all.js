(function(){var a=this,b={};a.ibmwebkit=b;b.global=a})();(function(a){a.byId=function(b){if(a.isString(b)){return document.getElementById(b)}else{return b}};a.removeClass=function(e,d){e=a.byId(e);var b=e.className;if(b){e.className=b.replace(d,"")}};a.addClass=function(e,d){e=a.byId(e);if(a.hasClass(e,d)){return}var b=e.className;e.className=b+" "+d};a.hasClass=function(d,b){d=a.byId(d);return(d.className&&d.className.indexOf(b)>=0)};a.isString=function(b){return typeof b==="string"};a.isFunction=function(b){return typeof b==="function"||b instanceof Function};a.disable=function(b){a.addClass(b,themeCfg.css.disable)};a.enable=function(b){a.removeClass(b,themeCfg.css.disable)}})(ibmwebkit);(function(a){a._loaded=false;a._loaders=[];a._unloaders=[];a._init=function(){a._loaded=true;a.disconnect(window,"onload",a,a._init);var d=a._loaders;a._loaders=[];for(var c=0,b=d.length;c<d.length;c++){d[c]()}};a._exit=function(){var d=a._unloaders;a._unloaders=[];for(var c=0,b=d.length;c<d.length;c++){d[c]()}};a.ready=function(d,b){var c=a.hitch(d,b);if(a._loaded){c()}else{a._loaders.push(c)}};a.unload=function(c,b){a._unloaders.push(a.hitch(c,b))};a.connect=function(i,g,c,d,b){var h=a.hitch(c,d,b);if(i.attachEvent){i.attachEvent(g,h,false)}else{if(i.addEventListener){i.addEventListener(g.substring(2),h,false)}}};a.disconnect=function(d,c,b){if(d.detachEvent){d.detachEvent(c,b,false)}else{if(d.removeEventListener){d.removeEventListener(c.substring(2),b,false)}}};a.hitch=function(c,d,b){if(!d){d=c;c=null}if(a.isString(d)){c=c||window;return function(){return c[d].apply(c,b||[])}}return !c?d:function(){return d.apply(c,b||[])}};a.connect(window,"onload",a,"_init");a.connect(window,"onunload",a,"_exit")})(ibmwebkit);(function(a){a._listeners={};a._LID=0;a.subscribe=function(b,c){var d=a._LID++;a._listeners[d]={e:b,f:c};return d};a.unsubscribe=function(b){if(a._listeners[b]){a._listeners[b]=null;delete a._listeners[b]}};a.publish=function(c,d){for(var b in a._listeners){if(a._listeners[b].e==c){a._listeners[b].f(d)}}}})(ibmwebkit);(function(b){b.layout={};var a=b.layout;a.containerCls="component-container";a.controlCls="component-control";a.getContainers=function(){var e=[];var g=b.byId(themeCfg.layout.rootId).childNodes;for(var f=0,d=g.length;f<d;f++){if(b.hasClass(g[f],a.containerCls)){e.push(g[f])}}return e};a.getControls=function(h){var f=[],n=[];if(!h||!b.hasClass(h,a.containerCls)){n=a.getContainers()}else{n.push(h)}for(var g=0,d=n.length;g<d;g++){var m=n[g].childNodes;for(var e=0,k=m.length;e<k;e++){if(b.hasClass(m[e],a.controlCls)){f.push(m[e])}}}return f};a.getID=function(e){var d=(e.className||"").match(/id-([\S]+)/);return d&&d[1]}})(ibmwebkit);(function(c){var a=this,b={prototypes:{},elements:{},instantiate:function(f,g,d){if(ibmUI.elements[g]){console.error('instantiate: UI element with id "'+g+'" already exists.');return}ibmUI.elements[g]=f;f.domNode=c.byId(g);for(var e in d){f[e]=d[e]}if(c.isFunction(f.postCreate)){c.ready(function(){f.postCreate()})}else{console.error('instantiate: UI element "'+g+'" does not have a postCreate function')}if(c.isFunction(f.destroy)){c.unload(function(){f.destroy()})}else{console.error('instantiate: UI element "'+g+'" does not have a destroy function')}},copy:function(e){var d=function(){};d.prototype=e;return new d()},create:function(f,g,d){var e=ibmUI.copy(f);ibmUI.instantiate(e,g,d)}};a.ibmUI=b})(ibmwebkit);(function(a){ibmUI.prototypes.accordion={nodes:[],multiOpen:true,postCreate:function(){this.resizeSection.listen=false;this.nodes=this.getNodes();for(var d=0,c=this.nodes.length;d<c;d++){var e=this.nodes[d];a.connect(e.handle,"onclick",this,"toggle",[d]);if(d>0){this.close(e.skin)}e.body.style.height=e.body.scrollHeight+"px";a.connect(e.body,"onDOMSubtreeModified",this,"resizeSection",[d])}var b=this.getRoot();a.removeClass(b,"theme-invisible");if(!this.multiOpen){a.addClass(b,"theme-layout-accordion-noclose")}this.resizeSection.listen=true;this.onStart()},getNodes:function(){return[]},getRoot:function(){return null},onStart:function(){return null},toggle:function(c){var e=this.nodes[c];if(!this.isOpen(e.skin)){this.open(e.skin);if(!this.multiOpen){for(var d=0,b=this.nodes.length;d<b;d++){if(c!==d){this.close(this.nodes[d].skin)}}}}else{this.close(e.skin)}},isOpen:function(b){return(!a.hasClass(b,themeCfg.css.closed))},open:function(b){this.resizeSection.listen=false;a.removeClass(b,themeCfg.css.closed);this.resizeSection.listen=true},close:function(b){this.resizeSection.listen=false;a.addClass(b,themeCfg.css.closed);this.resizeSection.listen=true},resizeSection:function(b){if(this.resizeSection.listen){this.resizeSection.listen=false;if(b!=null){var c=this.nodes[b];c.body.style.height=c.body.scrollHeight+"px"}this.resizeSection.listen=true}},destroy:function(){for(var b in this.nodes){this.nodes[b].body.onclick=null;delete this.nodes[b]}}}})(ibmwebkit);(function(b){var a=ibmUI.prototypes.accordionLayout=ibmUI.copy(ibmUI.prototypes.accordion);a.getRoot=function(){return b.layout.getContainers()[0]};a.getNodes=function(){var f=[];var e=b.layout.getControls();for(var g=0,d=e.length;g<d;g++){var j=e[g].querySelector('[data-container="true"]');var k=e[g].querySelector('[data-title="true"]');var c=e[g].querySelector('[data-container-body="true"]');var h={skin:j,handle:k,body:c};f.push(h)}return f}})(ibmwebkit);(function(a){ibmUI.prototypes.carousel={content:null,outer:null,inner:null,left:null,right:null,list:null,items:[],index:0,amt:0,noneTxt:"(none)",cls:"theme-carousel-nav",anim:"theme-anim-slide",postCreate:function(){this.list=this.domNode;this.items=[];this.content=a.byId(this.content);this.outer=a.byId(this.outer);this.inner=a.byId(this.inner);this.left=a.byId(this.left);this.right=a.byId(this.right);this.onStart();a.addClass(this.outer,this.cls);a.connect(this.left,"onclick",this,"shift",[this.left,this.right,-1]);a.connect(this.right,"onclick",this,"shift",[this.right,this.left,1]);var b=this;a.connect(this.outer,"ontouchstart",function(c){b.navTouch(c)});a.connect(this.outer,"ontouchmove",function(c){b.navMove(c)});a.connect(this.outer,"ontouchend",function(c){b.navEnd(c)});if(this.content){a.connect(this.content,"ontouchstart",function(c){b.contentTouch(c)});a.connect(this.content,"ontouchmove",function(c){b.contentMove(c)});a.connect(this.content,"ontouchend",function(c){b.contentEnd(c)})}setTimeout(function(){b.amt=b.inner.offsetWidth;var f=false;var g=b.domNode.childNodes;for(var e=0,d=g.length;e<d;e++){if(g[e].nodeName=="LI"){g[e].style.width=b.amt+"px";b.items.push(g[e]);if(!f&&!a.hasClass(g[e],themeCfg.css.active)){b.index++}else{f=true}}}if(!f){b.index=0}b.list.style.left=-1*b.index*b.amt+"px";if(b.index==0){a.disable(b.left)}if(b.index>=b.items.length-1){a.disable(b.right)}if(b.index==b.items.length){b.list.innerHTML='<li class="theme-none-text">'+b.noneTxt+"</li>"}},0);setTimeout(function(){a.addClass(b.outer,b.anim)},500)},onStart:function(){},change:function(b){},shift:function(g,f,d){var b=this.items.length;var e=function(h){return(h>=0&&h<b)};var c=function(h){return(h==0||h==b-1)};if(e(this.index+d)){this.index+=d;this.change(this.index);this.list.style.left=parseFloat(this.list.style.left)+-1*d*this.amt+"px";a.enable(f);if(c(this.index)){a.disable(g)}}},navTouch:function(d){for(var c=0,b=d.changedTouches.length;c<b;c++){if(!this.nMv){this.nMv=d.changedTouches[c].pageX}}},navMove:function(d){d.preventDefault();for(var c=0,b=d.changedTouches.length;c<b;c++){if(this.nMv){var f=this.nMv-d.changedTouches[c].pageX;if(f<-10){this.shift(this.left,this.right,-1);this.nMv=false}else{if(f>10){this.shift(this.right,this.left,1);this.nMv=false}}}}},navEnd:function(b){this.nMv=false},contentTouch:function(b){if(b.touches.length>1){this.pMv=[b.touches[0].pageX,b.touches[1].pageX]}},contentMove:function(c){if(c.touches.length>1){var b=this.content.offsetWidth;delta1=this.pMv[0]-c.touches[0].pageX;delta2=this.pMv[1]-c.touches[1].pageX;if(delta1<-10&&delta2<-10){this.shift(this.left,this.right,-1);this.pMv=false;this.content.style.left=b+"px"}else{if(delta1>10&&delta2>10){this.shift(this.right,this.left,1);this.pMv=false;this.content.style.left=-1*b+"px"}}}},contentEnd:function(b){this.pMv=false},destroy:function(){}}})(ibmwebkit);(function(b){var a=ibmUI.prototypes.carouselLayout=ibmUI.copy(ibmUI.prototypes.carousel);a.onStart=function(){var g=b.layout.getContainers();var e=b.layout.getControls();var d=this.content.offsetWidth*e.length+"px";var h=this.content.offsetWidth+"px";if(g.length<=0){console.error("This page does not have a layout!");return}this.container=g[0];this.container.style.width=d;for(var f=0,c=e.length;f<c;f++){e[f].style.width=h}};a.change=function(d){var c=this.content.offsetWidth;this.container.style.left=-1*d*c+"px"};a.noneTxt="(no portlets)"})(ibmwebkit);(function(a){ibmUI.prototypes.drilldown={levels:{},curLevel:0,levelSel:"data-tree-level",itemSel:"data-tree-swap",onCls:"theme-selected",offCls:"theme-hidden",postCreate:function(){var d=this.domNode.querySelectorAll("["+this.levelSel+"]");var c=this.domNode.querySelectorAll("["+this.itemSel+"]");for(var e=0,b=d.length;e<b;e++){var f=d[e].getAttribute(this.levelSel);this.levels[f]=d[e];if(a.hasClass(d[e],this.onCls)){this.curLevel=f}}for(var e=0,b=c.length;e<b;e++){var f=c[e].getAttribute(this.itemSel);a.connect(c[e],"onclick",this,"drill",[f])}},drill:function(b){this.toggle(this.curLevel,true);this.toggle(b,false);this.curLevel=b;this.onDrill()},onDrill:function(){},toggle:function(d,b){var c=this.levels[d];a.removeClass(c,b?this.onCls:this.offCls);a.addClass(c,b?this.offCls:this.onCls)},destroy:function(){}}})(ibmwebkit);(function(a){ibmUI.prototypes.scroller={outer:null,inner:null,left:null,right:null,list:null,amt:150,scroll:false,xPos:false,noneTxt:"(none)",anim:"theme-scroller",postCreate:function(){this.list=this.domNode;a.addClass(this.outer,this.anim);this.outer=a.byId(this.outer);this.inner=a.byId(this.inner);this.left=a.byId(this.left);this.right=a.byId(this.right);this.onStart();var e=this.domNode.childNodes,c=0;for(var d=0,b=e.length;d<b;d++){if(e[d].offsetWidth){c+=e[d].offsetWidth+4}}if(c==0){this.domNode.innerHTML='<span class="theme-none-text">'+this.noneTxt+"</span>"}else{this.domNode.style.width=c+"px"}this.amt=0.5*this.inner.offsetWidth;this.scroll=c>this.inner.offsetWidth;a.disable(this.left);if(!this.scroll){a.disable(this.right)}a.connect(this.left,"onclick",this,"shift",[this.left,this.right,1]);a.connect(this.right,"onclick",this,"shift",[this.right,this.left,-1]);var f=this;a.connect(this.outer,"ontouchstart",function(g){f.touchStart(g)});a.connect(this.outer,"ontouchmove",function(g){f.touchMove(g)});a.connect(this.outer,"ontouchend",function(g){f.touchEnd(g)})},onStart:function(){},shift:function(l,k,f,j){var c=j||this.amt;var e=parseFloat(this.list.style.left||"0");var m=e+f*c;m=m>0?0:m;var d=m+f*c;var h=-1*this.list.offsetWidth+0.5*this.inner.offsetWidth;var b=this.scroll&&m>h&&m<=0;var g=d<=h||d>0;if(b){this.list.style.left=m+"px";a.enable(k);if(g){a.disable(l)}}},touchStart:function(b){if(b.changedTouches.length>0){this.xPos=b.changedTouches[0].pageX}},touchMove:function(c){if(c.changedTouches.length>0&&this.xPos){c.preventDefault();var b=c.changedTouches[0].pageX,d=this.xPos-b;if(d<-5){this.shift(this.left,this.right,1,-1*d);this.xPos=b}else{if(d>5){this.shift(this.right,this.left,-1,d);this.xPos=b}}}},touchEnd:function(b){this.xPos=false},destroy:function(){}}})(ibmwebkit);(function(a){ibmUI.prototypes.slider={area:null,id:"",anim:"theme-anim-toggle",postCreate:function(){this.area=a.byId(this.area);a.removeClass(this.domNode,themeCfg.css.hidden);this.id=this.domNode.id+"-state";if(localStorage&&localStorage[this.id]){var c=localStorage[this.id];if(c=="open"){this.toggle.apply(this.area,[this.id,"open"])}else{if(c=="closed"){this.toggle.apply(this.area,[this.id,"closed"])}}}var b=this;if(c=="open"){this.area.style.height=this.area.offsetHeight+"px"}setTimeout(function(){a.addClass(b.area,b.anim)},500);a.connect(this.domNode,"onclick",this.area,this.toggle,[this.id])},toggle:function(d,c){var b=a.hasClass(this,themeCfg.css.noHgt);if(c==="open"||b){a.removeClass(this,themeCfg.css.noHgt);localStorage.removeItem(d);localStorage[d]="open"}else{if(c==="closed"||!b){a.addClass(this,themeCfg.css.noHgt);localStorage.removeItem(d);localStorage[d]="closed"}}},destroy:function(){}}})(ibmwebkit);(function(a){ibmUI.prototypes.swap={root:null,items:[],anim:"theme-anim-switch",evt:"",cur:0,eId:0,iCls:"theme-in",oCls:"theme-out",tCls:"theme-top",postCreate:function(){this.root=a.byId(this.root);a.addClass(this.items[0],this.tCls);a.addClass(this.root,this.anim);var e=0;for(var d=0,b=this.items.length;d<b;d++){var c=this.items[d].offsetHeight;if(c>e){e=c}}this.root.style.height=e+"px";for(var d=0,b=this.items.length;d<b;d++){this.items[d].style.height=e+"px"}var f=this;this.eId=a.subscribe(this.evt||"none",function(g){f.swap.apply(f,[g])})},swap:function(b){if(this.items[this.cur]&&this.items[b.next]){a.removeClass(this.items[this.cur],this.iCls);a.removeClass(this.items[this.cur],this.tCls);a.addClass(this.items[this.cur],this.oCls);a.removeClass(this.items[b.next],this.oCls);a.addClass(this.items[b.next],this.iCls);a.addClass(this.items[b.next],this.tCls);this.cur=b.next}},destroy:function(){a.unsubscribe(this.eId)}}})(ibmwebkit);(function(a){ibmUI.prototypes.zoom={isZoomedOut:false,content:null,items:[],curItem:null,itemKey:"iwk-select-item",time:300,btnHgt:25,overlayId:"theme-overlay",aCls:"theme-active",zCls:"theme-zoomed-out",tCls:"theme-tiles",anim:"theme-tile-anim",tileWidth:200,tileSpace:22,zero:0,postCreate:function(){this.onStart();this.zero=this.left=(this.domNode.offsetWidth-this.tileWidth-this.tileSpace)/2;if(this.processItems()>0){var b=this;setTimeout(function(){a.addClass(b.domNode,b.anim)},this.time);this.addZoom()}},onStart:function(){},processItems:function(){var d=localStorage[this.itemKey],b=-1,g=this;for(var e=0,c=this.items.length;e<c;e++){var f=this.items[e];f.style.height=f.offsetHeight+"px";if(a.layout.getID(f)==d){b=e}}a.addClass(this.content,this.tCls);a.removeClass(this.content,"theme-invisible");if(b>-1){this.selectItem(this.items[b])}else{this.zoomOut()}return e},addZoom:function(){var d=document.createElement("div");a.addClass(d,"theme-zoom-tab");this.domNode.appendChild(d);a.connect(d,"onclick",this,"zoomOut");this.btnHgt=d.offsetHeight||this.btnHgt;var b=a.byId(this.overlayId),c=this;b.style.height=this.domNode.offsetHeight+"px";b.style.width=this.domNode.offsetWidth+"px";a.connect(b,"onclick",function(f){c.zoomIn(f)});a.connect(b,"ontouchstart",function(f){c.contentTouch(f,c.isZoomedOut)});a.connect(b,"ontouchmove",function(f){c.contentMove(f,c.isZoomedOut)});a.connect(b,"ontouchend",function(f){c.contentEnd(f)})},zoomOut:function(){if(!this.isZoomedOut){this.isZoomedOut=true;a.addClass(this.domNode,this.zCls);this.content.style.left=this.left+"px";localStorage.removeItem(this.itemKey)}},zoomIn:function(c){if(this.isZoomedOut){var b=Math.round((c.clientX-parseFloat(this.content.offsetLeft))/(this.tileWidth+this.tileSpace)-0.5);if(b>=0&&b<this.items.length){this.isZoomedOut=false;a.removeClass(this.domNode,this.zCls);this.selectItem(this.items[b])}}},selectItem:function(b){if(this.curItem){a.removeClass(this.curItem,this.aCls)}a.addClass(b,this.aCls);if(this.curItem){this.curItem.style.width=""}b.style.width=this.domNode.offsetWidth+this.tileSpace+"px";a.byId("theme-content").style.height=parseFloat(b.style.height)+"px";this.content.style.left=-1*b.offsetLeft+"px";this.curItem=b;localStorage[this.itemKey]=a.layout.getID(b)},contentTouch:function(c,b){if(b&&c.touches.length>0){this.pageX=c.touches[0].pageX}},contentMove:function(g,b){if(this.pageX&&b&&g.touches.length>0){var h=g.touches[0].pageX;var k=h-this.pageX;this.pageX=h;if(k>10||k<-10){var f=-1*this.tileWidth*this.items.length;var i=this.zero;var d=parseFloat(this.content.style.left);var c=k>=0?this.tileWidth+this.tileSpace:-1*this.tileWidth-this.tileSpace;var j=c+d;if(j>=f&&j<=i){this.pageX=false;this.left=j;this.content.style.left=j+"px"}}}},contentEnd:function(b){this.pageX=false},destroy:function(){}}})(ibmwebkit);(function(c){var b=ibmUI.prototypes;if(themeCfg.navigation.type==="scroller"){ibmUI.create(b.scroller,"theme-id-nav",{content:"theme-page",outer:"theme-id-nav-outer",inner:"theme-id-nav-inner",left:"theme-id-nav-left",right:"theme-id-nav-right",noneTxt:"(no pages)"})}else{if(themeCfg.navigation.type==="carousel"){ibmUI.create(b.carousel,"theme-id-nav",{content:"theme-page",outer:"theme-id-nav-outer",inner:"theme-id-nav-inner",left:"theme-id-nav-left",right:"theme-id-nav-right",noneTxt:"(no pages)",change:function(d){top.location.href="?uri=nm:oid:"+this.items[d].id}})}else{if(themeCfg.navigation.type==="drilldown"){ibmUI.create(b.drilldown,"theme-id-nav-outer",{onDrill:function(){this.domNode.style.height=c.byId("theme-id-nav").offsetHeight+"px"}})}}}if(themeCfg.navigation.toggle===true){ibmUI.create(b.slider,"theme-id-toggle-nav",{area:"theme-id-nav-outer"})}if(themeCfg.layout.templateURI.indexOf("mobileCarousel")>=0){ibmUI.create(b.carouselLayout,"theme-id-layout",{content:"theme-page",outer:"theme-id-layout-outer",inner:"theme-id-layout-inner",left:"theme-id-layout-left",right:"theme-id-layout-right"})}else{if(themeCfg.layout.templateURI.indexOf("mobileSelect")>=0){var a=c.layout.getContainers()[0];ibmUI.create(b.zoom,"theme-page",{content:a,items:c.layout.getControls(a),cls:"theme-tile-anim"})}else{if(themeCfg.layout.templateURI.indexOf("mobileAccordion")>=0){ibmUI.create(b.accordionLayout,themeCfg.layout.rootId,{})}else{if(themeCfg.layout.templateURI.indexOf("mobileSwap")>=0){ibmUI.create(b.swap,themeCfg.layout.rootId,{evt:"theme-content-layout-evt",anim:"theme-anim-fade",root:c.layout.getContainers()[0],items:c.layout.getControls()});ibmUI.create(b.carousel,"theme-id-layout",{evt:"theme-content-layout-evt",outer:"theme-id-layout-outer",inner:"theme-id-layout-inner",left:"theme-id-layout-left",right:"theme-id-layout-right",change:function(d){c.publish(this.evt,{next:d})}})}}}}})(ibmwebkit);